{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/assets/main.js"],"names":[],"mappings":"AAAA;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["(function(){function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s}return e})()","\n// var $ = require('jquery');\n\n// var fullpage = require('fullpage.js');\n// var Barba = require('barba.js');\n\n// variables\nvar\n    $isAnimatedSecond = $('.second .is-animated'),\n    $isAnimatedThird = $('.third .is-animated'),\n    $isAnimatedFourth = $('.fourth .is-animated'),\n    $isAnimatedFifth = $('.fifth .is-animated');\n    $isAnimatedSixth = $('.sixth .is-animated');\n\n\n\n$('#fullpage').fullpage({\n    licenseKey: 'xxxxxxxx-xxxxxxxx-xxxxxxxx-xxxxxxxx',\n    verticalCentered: true,\n    lockAnchors: true,\n    anchors: ['1', '2', '3', '4', '5', 'last'],\n    navigation: true,\n    navigationTooltips: ['MasterDynamix',  'What we do', 'Your success', 'Slider', 'Our expertise', 'Reach us'],\n    showActiveTooltip: false,\n    menu: '#menu',\n    // sectionsColor: ['#fff',  '#fff', '#fff', '#fff', '#fff'],\n    scrollOverflow: true,\n    afterRender: function(){\n\n        particlesJS.load('particles-js', 'assets/particles.json', function() {\n            console.log('callback - particles.js config loaded');\n        });\n        \n        //slick\n        jQuery('.slider').slick({\n            dots: true,\n            infinite: true,\n            speed: 650,\n            autoplay: true,\n            prevArrow: '<span class=\"slick-prev\"><i class=\"fas fa-chevron-left fa-2x\"></i></span>',\n            nextArrow: '<span class=\"slick-next\"><i class=\"fas fa-chevron-right fa-2x\"></i></span>',\n            autoplaySpeed: 4000,\n            responsive: [\n                {\n                  breakpoint: 767,\n                  settings: {\n                    arrows: false\n                  }\n                }\n            ]\n        });\n\n    },\n    afterLoad: function(origin, destination){\n        //using destination\n        console.log(destination.anchor);\n        if(destination.anchor == 'last'){\n            $('*[data-open=\"popup-trigger\"]').addClass('not-active')\n\n        } else {\n            $('*[data-open=\"popup-trigger\"]').removeClass('not-active')\n        }\n        // console.log(fullpage_api.getActiveSection());\n    },\n    onLeave: function(origin, nextIndex) {\n        \n        // first animation\n        if( origin.index == 0 && nextIndex.index == 1 ) {\n            $isAnimatedSecond.addClass('animated');\n            $isAnimatedSecond.eq(0).addClass('animated fadeIn').css('animation-delay', '0.2s');\n            $isAnimatedSecond.eq(1).addClass('animated fadeIn').css('animation-delay', '0.4s');\n            $isAnimatedSecond.eq(2).addClass('animated fadeIn').css('animation-delay', '0.8s');\n        }\n        // second animation\n        else if( origin.index == 1 && nextIndex.index == 2 ) {\n            $isAnimatedThird.addClass('animated');\n            $isAnimatedThird.eq(0).addClass('fadeInLeftBig').css('animation-delay', '.2s');\n            $isAnimatedThird.eq(1).addClass('fadeInUpBig').css('animation-delay', '.4s');\n            // $isAnimatedSecondSingle.addClass('animated rollIn').css('animation-delay', '1.7s');\n        }\n\n        // third animation\n        else if( ( origin.index == 1 || origin.index == 2 ) && nextIndex.index == 3 ) {\n            $isAnimatedFourth.eq(0).addClass('animated fadeIn').css('animation-delay', '0.2s');\n            $isAnimatedFourth.eq(1).addClass('animated fadeIn').css('animation-delay', '0.7s');\n        }\n\n\n        // fourth animation\n        else if( ( origin.index == 1 || origin.index == 2 || origin.index == 3 ) && nextIndex.index == 4 ) {\n            $isAnimatedFifth.eq(0).addClass('animated zoomIn').css('animation-delay', '.1s');\n            $isAnimatedFifth.eq(1).addClass('animated zoomIn').css('animation-delay', '.5s');\n\n        }\n        \n        else if( ( origin.index == 1 || origin.index == 2 || origin.index == 3 || origin.index == 4 ) && nextIndex.index == 5 ) {\n            $isAnimatedSixth.eq(0).addClass('animated zoomIn').css('animation-delay', '.3s');\n        }\n    }\n});\n\n$('#arrowAnim').click(function(){\n    $.fn.fullpage.moveSectionDown();\n});\n\n$(document).ready(function() {\n    $('body').fadeTo( \"fast\", 1 )\n});\n\nif (window.location.href.indexOf(\"partners\") > -1) {\n    $('#fullpage-partners').fullpage({\n        licenseKey: 'xxxxxxxx-xxxxxxxx-xxxxxxxx-xxxxxxxx',\n        verticalCentered: false,\n        lockAnchors: true,\n        anchors: ['FreeHomeRisk', 'HazardHub', 'UnderNDA', 'TrueReviewCasino'],\n        navigation: true,\n        navigationTooltips: ['FreeHomeRisk', 'HazardHub', 'UnderNDA', 'TrueReviewCasino'],\n        showActiveTooltip: true,\n        menu: '#menu',\n        sectionsColor: ['#fff',  '#f7f7f7', '#fff', '#f7f7f7'],\n        //disabled in mobile\n        responsiveWidth: 767,\n        afterResponsive: function(isResponsive){},\n    });\n}\n\n\n\n// Barba.Dispatcher.on('newPageReady', function(current, prev, container) {\n//     if ( $( 'html' ).hasClass( 'fp-enabled' ) ) {\n//         $.fn.fullpage.destroy('all');\n//     }\n//\n//\n// });\n//\n// $(document).ready(function() {\n//     Barba.Pjax.start();\n//     var FadeTransition = Barba.BaseTransition.extend({\n//         start: function() {\n//             /**\n//              * This function is automatically called as soon the Transition starts\n//              * this.newContainerLoading is a Promise for the loading of the new container\n//              * (Barba.js also comes with an handy Promise polyfill!)\n//              */\n//\n//             // As soon the loading is finished and the old page is faded out, let's fade the new page\n//             Promise\n//                 .all([this.newContainerLoading, this.fadeOut()])\n//                 .then(this.fadeIn.bind(this));\n//         },\n//\n//         fadeOut: function() {\n//             /**\n//              * this.oldContainer is the HTMLElement of the old Container\n//              */\n//\n//             return $(this.oldContainer).animate({ opacity: 0 }).promise();\n//         },\n//\n//         fadeIn: function() {\n//             /**\n//              * this.newContainer is the HTMLElement of the new Container\n//              * At this stage newContainer is on the DOM (inside our #barba-container and with visibility: hidden)\n//              * Please note, newContainer is available just after newContainerLoading is resolved!\n//              */\n//\n//             var _this = this;\n//             var $el = $(this.newContainer);\n//\n//             $(this.oldContainer).hide();\n//\n//             $el.css({visibility : 'visible',\n//                 opacity : 0\n//             });\n//\n//             $el.animate({ opacity: 1 }, 400, function() {\n//                 /**\n//                  * Do not forget to call .done() as soon your transition is finished!\n//                  * .done() will automatically remove from the DOM the old Container\n//                  */\n//\n//                 _this.done();\n//             });\n//         }\n//     });\n//\n//     /**\n//      * Next step, you have to tell Barba to use the new Transition\n//      */\n//\n//     Barba.Pjax.getTransition = function() {\n//         /**\n//          * Here you can use your own logic!\n//          * For example you can use different Transition based on the current page or link...\n//          */\n//\n//         return FadeTransition;\n//     };\n//\n// });\n//\n//\n\nfunction validEmail(email) { // see:\n    var re = /^([\\w-]+(?:\\.[\\w-]+)*)@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$/i;\n    return re.test(email);\n}\n\nfunction validateHuman(honeypot) {\n    if (honeypot) {  //if hidden form filled up\n        console.log(\"Robot Detected!\");\n        return true;\n    } else {\n        console.log(\"Welcome Human!\");\n    }\n}\n\n// get all data in form and return object\nfunction getFormData() {\n    var form = document.getElementById(\"gform\");\n    var elements = form.elements; // all form elements\n    var fields = Object.keys(elements).filter(function(k) {\n        // the filtering logic is simple, only keep fields that are not the honeypot\n        return (elements[k].name !== \"honeypot\");\n    }).map(function(k) {\n        if(elements[k].name !== undefined) {\n            return elements[k].name;\n            // special case for Edge's html collection\n        }else if(elements[k].length > 0){\n            return elements[k].item(0).name;\n        }\n    }).filter(function(item, pos, self) {\n        return self.indexOf(item) == pos && item;\n    });\n    var data = {};\n    fields.forEach(function(k){\n        data[k] = elements[k].value;\n        var str = \"\"; // declare empty string outside of loop to allow\n                      // it to be appended to for each item in the loop\n        if(elements[k].type === \"checkbox\"){ // special case for Edge's html collection\n            str = str + elements[k].checked + \", \"; // take the string and append\n                                                    // the current checked value to\n                                                    // the end of it, along with\n                                                    // a comma and a space\n            data[k] = str.slice(0, -2); // remove the last comma and space\n                                        // from the  string to make the output\n                                        // prettier in the spreadsheet\n        }else if(elements[k].length){\n            for(var i = 0; i < elements[k].length; i++){\n                if(elements[k].item(i).checked){\n                    str = str + elements[k].item(i).value + \", \"; // same as above\n                    data[k] = str.slice(0, -2);\n                }\n            }\n        }\n    });\n\n    // add form-specific values into the data\n    data.formDataNameOrder = JSON.stringify(fields);\n    data.formGoogleSheetName = form.dataset.sheet || \"responses\"; // default sheet name\n    data.formGoogleSendEmail = form.dataset.email || \"\"; // no email by default\n\n    console.log(data);\n    return data;\n}\n\nfunction handleFormSubmit(event) {  // handles form submit withtout any jquery\n    event.preventDefault();           // we are submitting via xhr below\n    var data = getFormData();         // get the values submitted in the form\n\n    /* OPTION: Remove this comment to enable SPAM prevention, see README.md\n     if (validateHuman(data.honeypot)) {  //if form is filled, form will not be submitted\n     return false;\n     }\n     */\n\n    if( data.email && !validEmail(data.email) ) {   // if email is not valid show error\n        var invalidEmail = document.getElementById(\"email-invalid\");\n        if (invalidEmail) {\n            invalidEmail.style.display = \"block\";\n            return false;\n        }\n    } else {\n        var url = event.target.action;  //\n        var xhr = new XMLHttpRequest();\n        xhr.open('POST', url);\n        // xhr.withCredentials = true;\n        xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\n        xhr.onreadystatechange = function() {\n            console.log( xhr.status, xhr.statusText )\n            console.log(xhr.responseText);\n            document.getElementById(\"gform\").style.display = \"none\"; // hide form\n            var thankYouMessage = document.getElementById(\"thankyou_message\");\n            if (thankYouMessage) {\n                thankYouMessage.style.display = \"block\";\n            }\n            return;\n        };\n        // url encode form data for sending as post data\n        var encoded = Object.keys(data).map(function(k) {\n            return encodeURIComponent(k) + \"=\" + encodeURIComponent(data[k])\n        }).join('&')\n        xhr.send(encoded);\n    }\n}\nfunction loaded() {\n    console.log(\"Contact form submission handler loaded successfully.\");\n    // bind to the submit event of our form\n    var form = document.getElementById(\"gform\");\n    form.addEventListener(\"submit\", handleFormSubmit, false);\n};\ndocument.addEventListener(\"DOMContentLoaded\", loaded, false);\n\nif (window.location.href.indexOf(\"index\") > -1) {\n    // get all data in form and return object\n    function getFormData2() {\n        var form = document.getElementById(\"gform2\");\n        var elements = form.elements; // all form elements\n        var fields = Object.keys(elements).map(function(k) {\n            if(elements[k].name !== undefined) {\n                return elements[k].name;\n                // special case for Edge's html collection\n            }else if(elements[k].length > 0){\n                return elements[k].item(0).name;\n            }\n        }).filter(function(item, pos, self) {\n            return self.indexOf(item) == pos && item;\n        });\n        var data = {};\n        fields.forEach(function(k){\n            data[k] = elements[k].value;\n            var str = \"\"; // declare empty string outside of loop to allow\n                        // it to be appended to for each item in the loop\n            if(elements[k].type === \"checkbox\"){ // special case for Edge's html collection\n                str = str + elements[k].checked + \", \"; // take the string and append\n                                                        // the current checked value to\n                                                        // the end of it, along with\n                                                        // a comma and a space\n                data[k] = str.slice(0, -2); // remove the last comma and space\n                                            // from the  string to make the output\n                                            // prettier in the spreadsheet\n            }else if(elements[k].length){\n                for(var i = 0; i < elements[k].length; i++){\n                    if(elements[k].item(i).checked){\n                        str = str + elements[k].item(i).value + \", \"; // same as above\n                        data[k] = str.slice(0, -2);\n                    }\n                }\n            }\n        });\n\n        // add form-specific values into the data\n        data.formDataNameOrder = JSON.stringify(fields);\n        data.formGoogleSheetName = form.dataset.sheet || \"responses\"; // default sheet name\n        data.formGoogleSendEmail = form.dataset.email || \"\"; // no email by default\n\n        console.log(data);\n        return data;\n    }\n\n    function handleFormSubmit2(event) {  // handles form submit withtout any jquery\n        event.preventDefault();           // we are submitting via xhr below\n        var data = getFormData2();         // get the values submitted in the form\n\n        /* OPTION: Remove this comment to enable SPAM prevention, see README.md\n        if (validateHuman(data.honeypot)) {  //if form is filled, form will not be submitted\n        return false;\n        }\n        */\n\n        if( !validEmail(data.email) ) {   // if email is not valid show error\n            document.getElementById('email-invalid2').style.display = 'block';\n            return false;\n        } else {\n            var url = event.target.action;  //\n            var xhr = new XMLHttpRequest();\n            xhr.open('POST', url);\n            // xhr.withCredentials = true;\n            xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');\n            xhr.onreadystatechange = function() {\n                console.log( xhr.status, xhr.statusText )\n                console.log(xhr.responseText);\n                document.getElementById('gform2').style.display = 'none'; // hide form\n                document.getElementById('thankyou_message2').style.display = 'block';\n                return;\n            };\n            // url encode form data for sending as post data\n            var encoded = Object.keys(data).map(function(k) {\n                return encodeURIComponent(k) + '=' + encodeURIComponent(data[k])\n            }).join('&')\n            xhr.send(encoded);\n        }\n    }\n    function loaded2() {\n        console.log('contact form submission handler loaded successfully');\n        // bind to the submit event of our form\n        var form = document.getElementById('gform2');\n        form.addEventListener(\"submit\", handleFormSubmit2, false);\n    };\n    document.addEventListener('DOMContentLoaded', loaded2, false);\n};"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvYXNzZXRzL21haW4uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxuLHIpe2Z1bmN0aW9uIHMobyx1KXtpZighbltvXSl7aWYoIXRbb10pe3ZhciBhPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK28rXCInXCIpO3Rocm93IGYuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtmb3IodmFyIG89MDtvPHIubGVuZ3RoO28rKylzKHJbb10pO3JldHVybiBzfXJldHVybiBlfSkoKSIsIlxuLy8gdmFyICQgPSByZXF1aXJlKCdqcXVlcnknKTtcblxuLy8gdmFyIGZ1bGxwYWdlID0gcmVxdWlyZSgnZnVsbHBhZ2UuanMnKTtcbi8vIHZhciBCYXJiYSA9IHJlcXVpcmUoJ2JhcmJhLmpzJyk7XG5cbi8vIHZhcmlhYmxlc1xudmFyXG4gICAgJGlzQW5pbWF0ZWRTZWNvbmQgPSAkKCcuc2Vjb25kIC5pcy1hbmltYXRlZCcpLFxuICAgICRpc0FuaW1hdGVkVGhpcmQgPSAkKCcudGhpcmQgLmlzLWFuaW1hdGVkJyksXG4gICAgJGlzQW5pbWF0ZWRGb3VydGggPSAkKCcuZm91cnRoIC5pcy1hbmltYXRlZCcpLFxuICAgICRpc0FuaW1hdGVkRmlmdGggPSAkKCcuZmlmdGggLmlzLWFuaW1hdGVkJyk7XG4gICAgJGlzQW5pbWF0ZWRTaXh0aCA9ICQoJy5zaXh0aCAuaXMtYW5pbWF0ZWQnKTtcblxuXG5cbiQoJyNmdWxscGFnZScpLmZ1bGxwYWdlKHtcbiAgICBsaWNlbnNlS2V5OiAneHh4eHh4eHgteHh4eHh4eHgteHh4eHh4eHgteHh4eHh4eHgnLFxuICAgIHZlcnRpY2FsQ2VudGVyZWQ6IHRydWUsXG4gICAgbG9ja0FuY2hvcnM6IHRydWUsXG4gICAgYW5jaG9yczogWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnbGFzdCddLFxuICAgIG5hdmlnYXRpb246IHRydWUsXG4gICAgbmF2aWdhdGlvblRvb2x0aXBzOiBbJ01hc3RlckR5bmFtaXgnLCAgJ1doYXQgd2UgZG8nLCAnWW91ciBzdWNjZXNzJywgJ1NsaWRlcicsICdPdXIgZXhwZXJ0aXNlJywgJ1JlYWNoIHVzJ10sXG4gICAgc2hvd0FjdGl2ZVRvb2x0aXA6IGZhbHNlLFxuICAgIG1lbnU6ICcjbWVudScsXG4gICAgLy8gc2VjdGlvbnNDb2xvcjogWycjZmZmJywgICcjZmZmJywgJyNmZmYnLCAnI2ZmZicsICcjZmZmJ10sXG4gICAgc2Nyb2xsT3ZlcmZsb3c6IHRydWUsXG4gICAgYWZ0ZXJSZW5kZXI6IGZ1bmN0aW9uKCl7XG5cbiAgICAgICAgcGFydGljbGVzSlMubG9hZCgncGFydGljbGVzLWpzJywgJ2Fzc2V0cy9wYXJ0aWNsZXMuanNvbicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ2NhbGxiYWNrIC0gcGFydGljbGVzLmpzIGNvbmZpZyBsb2FkZWQnKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICAvL3NsaWNrXG4gICAgICAgIGpRdWVyeSgnLnNsaWRlcicpLnNsaWNrKHtcbiAgICAgICAgICAgIGRvdHM6IHRydWUsXG4gICAgICAgICAgICBpbmZpbml0ZTogdHJ1ZSxcbiAgICAgICAgICAgIHNwZWVkOiA2NTAsXG4gICAgICAgICAgICBhdXRvcGxheTogdHJ1ZSxcbiAgICAgICAgICAgIHByZXZBcnJvdzogJzxzcGFuIGNsYXNzPVwic2xpY2stcHJldlwiPjxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tbGVmdCBmYS0yeFwiPjwvaT48L3NwYW4+JyxcbiAgICAgICAgICAgIG5leHRBcnJvdzogJzxzcGFuIGNsYXNzPVwic2xpY2stbmV4dFwiPjxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHQgZmEtMnhcIj48L2k+PC9zcGFuPicsXG4gICAgICAgICAgICBhdXRvcGxheVNwZWVkOiA0MDAwLFxuICAgICAgICAgICAgcmVzcG9uc2l2ZTogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDc2NyxcbiAgICAgICAgICAgICAgICAgIHNldHRpbmdzOiB7XG4gICAgICAgICAgICAgICAgICAgIGFycm93czogZmFsc2VcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgIH0pO1xuXG4gICAgfSxcbiAgICBhZnRlckxvYWQ6IGZ1bmN0aW9uKG9yaWdpbiwgZGVzdGluYXRpb24pe1xuICAgICAgICAvL3VzaW5nIGRlc3RpbmF0aW9uXG4gICAgICAgIGNvbnNvbGUubG9nKGRlc3RpbmF0aW9uLmFuY2hvcik7XG4gICAgICAgIGlmKGRlc3RpbmF0aW9uLmFuY2hvciA9PSAnbGFzdCcpe1xuICAgICAgICAgICAgJCgnKltkYXRhLW9wZW49XCJwb3B1cC10cmlnZ2VyXCJdJykuYWRkQ2xhc3MoJ25vdC1hY3RpdmUnKVxuXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAkKCcqW2RhdGEtb3Blbj1cInBvcHVwLXRyaWdnZXJcIl0nKS5yZW1vdmVDbGFzcygnbm90LWFjdGl2ZScpXG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5sb2coZnVsbHBhZ2VfYXBpLmdldEFjdGl2ZVNlY3Rpb24oKSk7XG4gICAgfSxcbiAgICBvbkxlYXZlOiBmdW5jdGlvbihvcmlnaW4sIG5leHRJbmRleCkge1xuICAgICAgICBcbiAgICAgICAgLy8gZmlyc3QgYW5pbWF0aW9uXG4gICAgICAgIGlmKCBvcmlnaW4uaW5kZXggPT0gMCAmJiBuZXh0SW5kZXguaW5kZXggPT0gMSApIHtcbiAgICAgICAgICAgICRpc0FuaW1hdGVkU2Vjb25kLmFkZENsYXNzKCdhbmltYXRlZCcpO1xuICAgICAgICAgICAgJGlzQW5pbWF0ZWRTZWNvbmQuZXEoMCkuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpLmNzcygnYW5pbWF0aW9uLWRlbGF5JywgJzAuMnMnKTtcbiAgICAgICAgICAgICRpc0FuaW1hdGVkU2Vjb25kLmVxKDEpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcwLjRzJyk7XG4gICAgICAgICAgICAkaXNBbmltYXRlZFNlY29uZC5lcSgyKS5hZGRDbGFzcygnYW5pbWF0ZWQgZmFkZUluJykuY3NzKCdhbmltYXRpb24tZGVsYXknLCAnMC44cycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHNlY29uZCBhbmltYXRpb25cbiAgICAgICAgZWxzZSBpZiggb3JpZ2luLmluZGV4ID09IDEgJiYgbmV4dEluZGV4LmluZGV4ID09IDIgKSB7XG4gICAgICAgICAgICAkaXNBbmltYXRlZFRoaXJkLmFkZENsYXNzKCdhbmltYXRlZCcpO1xuICAgICAgICAgICAgJGlzQW5pbWF0ZWRUaGlyZC5lcSgwKS5hZGRDbGFzcygnZmFkZUluTGVmdEJpZycpLmNzcygnYW5pbWF0aW9uLWRlbGF5JywgJy4ycycpO1xuICAgICAgICAgICAgJGlzQW5pbWF0ZWRUaGlyZC5lcSgxKS5hZGRDbGFzcygnZmFkZUluVXBCaWcnKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcuNHMnKTtcbiAgICAgICAgICAgIC8vICRpc0FuaW1hdGVkU2Vjb25kU2luZ2xlLmFkZENsYXNzKCdhbmltYXRlZCByb2xsSW4nKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcxLjdzJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGlyZCBhbmltYXRpb25cbiAgICAgICAgZWxzZSBpZiggKCBvcmlnaW4uaW5kZXggPT0gMSB8fCBvcmlnaW4uaW5kZXggPT0gMiApICYmIG5leHRJbmRleC5pbmRleCA9PSAzICkge1xuICAgICAgICAgICAgJGlzQW5pbWF0ZWRGb3VydGguZXEoMCkuYWRkQ2xhc3MoJ2FuaW1hdGVkIGZhZGVJbicpLmNzcygnYW5pbWF0aW9uLWRlbGF5JywgJzAuMnMnKTtcbiAgICAgICAgICAgICRpc0FuaW1hdGVkRm91cnRoLmVxKDEpLmFkZENsYXNzKCdhbmltYXRlZCBmYWRlSW4nKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcwLjdzJyk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGZvdXJ0aCBhbmltYXRpb25cbiAgICAgICAgZWxzZSBpZiggKCBvcmlnaW4uaW5kZXggPT0gMSB8fCBvcmlnaW4uaW5kZXggPT0gMiB8fCBvcmlnaW4uaW5kZXggPT0gMyApICYmIG5leHRJbmRleC5pbmRleCA9PSA0ICkge1xuICAgICAgICAgICAgJGlzQW5pbWF0ZWRGaWZ0aC5lcSgwKS5hZGRDbGFzcygnYW5pbWF0ZWQgem9vbUluJykuY3NzKCdhbmltYXRpb24tZGVsYXknLCAnLjFzJyk7XG4gICAgICAgICAgICAkaXNBbmltYXRlZEZpZnRoLmVxKDEpLmFkZENsYXNzKCdhbmltYXRlZCB6b29tSW4nKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcuNXMnKTtcblxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBlbHNlIGlmKCAoIG9yaWdpbi5pbmRleCA9PSAxIHx8IG9yaWdpbi5pbmRleCA9PSAyIHx8IG9yaWdpbi5pbmRleCA9PSAzIHx8IG9yaWdpbi5pbmRleCA9PSA0ICkgJiYgbmV4dEluZGV4LmluZGV4ID09IDUgKSB7XG4gICAgICAgICAgICAkaXNBbmltYXRlZFNpeHRoLmVxKDApLmFkZENsYXNzKCdhbmltYXRlZCB6b29tSW4nKS5jc3MoJ2FuaW1hdGlvbi1kZWxheScsICcuM3MnKTtcbiAgICAgICAgfVxuICAgIH1cbn0pO1xuXG4kKCcjYXJyb3dBbmltJykuY2xpY2soZnVuY3Rpb24oKXtcbiAgICAkLmZuLmZ1bGxwYWdlLm1vdmVTZWN0aW9uRG93bigpO1xufSk7XG5cbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICQoJ2JvZHknKS5mYWRlVG8oIFwiZmFzdFwiLCAxIClcbn0pO1xuXG5pZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5kZXhPZihcInBhcnRuZXJzXCIpID4gLTEpIHtcbiAgICAkKCcjZnVsbHBhZ2UtcGFydG5lcnMnKS5mdWxscGFnZSh7XG4gICAgICAgIGxpY2Vuc2VLZXk6ICd4eHh4eHh4eC14eHh4eHh4eC14eHh4eHh4eC14eHh4eHh4eCcsXG4gICAgICAgIHZlcnRpY2FsQ2VudGVyZWQ6IGZhbHNlLFxuICAgICAgICBsb2NrQW5jaG9yczogdHJ1ZSxcbiAgICAgICAgYW5jaG9yczogWydGcmVlSG9tZVJpc2snLCAnSGF6YXJkSHViJywgJ1VuZGVyTkRBJywgJ1RydWVSZXZpZXdDYXNpbm8nXSxcbiAgICAgICAgbmF2aWdhdGlvbjogdHJ1ZSxcbiAgICAgICAgbmF2aWdhdGlvblRvb2x0aXBzOiBbJ0ZyZWVIb21lUmlzaycsICdIYXphcmRIdWInLCAnVW5kZXJOREEnLCAnVHJ1ZVJldmlld0Nhc2lubyddLFxuICAgICAgICBzaG93QWN0aXZlVG9vbHRpcDogdHJ1ZSxcbiAgICAgICAgbWVudTogJyNtZW51JyxcbiAgICAgICAgc2VjdGlvbnNDb2xvcjogWycjZmZmJywgICcjZjdmN2Y3JywgJyNmZmYnLCAnI2Y3ZjdmNyddLFxuICAgICAgICAvL2Rpc2FibGVkIGluIG1vYmlsZVxuICAgICAgICByZXNwb25zaXZlV2lkdGg6IDc2NyxcbiAgICAgICAgYWZ0ZXJSZXNwb25zaXZlOiBmdW5jdGlvbihpc1Jlc3BvbnNpdmUpe30sXG4gICAgfSk7XG59XG5cblxuXG4vLyBCYXJiYS5EaXNwYXRjaGVyLm9uKCduZXdQYWdlUmVhZHknLCBmdW5jdGlvbihjdXJyZW50LCBwcmV2LCBjb250YWluZXIpIHtcbi8vICAgICBpZiAoICQoICdodG1sJyApLmhhc0NsYXNzKCAnZnAtZW5hYmxlZCcgKSApIHtcbi8vICAgICAgICAgJC5mbi5mdWxscGFnZS5kZXN0cm95KCdhbGwnKTtcbi8vICAgICB9XG4vL1xuLy9cbi8vIH0pO1xuLy9cbi8vICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuLy8gICAgIEJhcmJhLlBqYXguc3RhcnQoKTtcbi8vICAgICB2YXIgRmFkZVRyYW5zaXRpb24gPSBCYXJiYS5CYXNlVHJhbnNpdGlvbi5leHRlbmQoe1xuLy8gICAgICAgICBzdGFydDogZnVuY3Rpb24oKSB7XG4vLyAgICAgICAgICAgICAvKipcbi8vICAgICAgICAgICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgYXV0b21hdGljYWxseSBjYWxsZWQgYXMgc29vbiB0aGUgVHJhbnNpdGlvbiBzdGFydHNcbi8vICAgICAgICAgICAgICAqIHRoaXMubmV3Q29udGFpbmVyTG9hZGluZyBpcyBhIFByb21pc2UgZm9yIHRoZSBsb2FkaW5nIG9mIHRoZSBuZXcgY29udGFpbmVyXG4vLyAgICAgICAgICAgICAgKiAoQmFyYmEuanMgYWxzbyBjb21lcyB3aXRoIGFuIGhhbmR5IFByb21pc2UgcG9seWZpbGwhKVxuLy8gICAgICAgICAgICAgICovXG4vL1xuLy8gICAgICAgICAgICAgLy8gQXMgc29vbiB0aGUgbG9hZGluZyBpcyBmaW5pc2hlZCBhbmQgdGhlIG9sZCBwYWdlIGlzIGZhZGVkIG91dCwgbGV0J3MgZmFkZSB0aGUgbmV3IHBhZ2Vcbi8vICAgICAgICAgICAgIFByb21pc2Vcbi8vICAgICAgICAgICAgICAgICAuYWxsKFt0aGlzLm5ld0NvbnRhaW5lckxvYWRpbmcsIHRoaXMuZmFkZU91dCgpXSlcbi8vICAgICAgICAgICAgICAgICAudGhlbih0aGlzLmZhZGVJbi5iaW5kKHRoaXMpKTtcbi8vICAgICAgICAgfSxcbi8vXG4vLyAgICAgICAgIGZhZGVPdXQ6IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgLyoqXG4vLyAgICAgICAgICAgICAgKiB0aGlzLm9sZENvbnRhaW5lciBpcyB0aGUgSFRNTEVsZW1lbnQgb2YgdGhlIG9sZCBDb250YWluZXJcbi8vICAgICAgICAgICAgICAqL1xuLy9cbi8vICAgICAgICAgICAgIHJldHVybiAkKHRoaXMub2xkQ29udGFpbmVyKS5hbmltYXRlKHsgb3BhY2l0eTogMCB9KS5wcm9taXNlKCk7XG4vLyAgICAgICAgIH0sXG4vL1xuLy8gICAgICAgICBmYWRlSW46IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAgICAgLyoqXG4vLyAgICAgICAgICAgICAgKiB0aGlzLm5ld0NvbnRhaW5lciBpcyB0aGUgSFRNTEVsZW1lbnQgb2YgdGhlIG5ldyBDb250YWluZXJcbi8vICAgICAgICAgICAgICAqIEF0IHRoaXMgc3RhZ2UgbmV3Q29udGFpbmVyIGlzIG9uIHRoZSBET00gKGluc2lkZSBvdXIgI2JhcmJhLWNvbnRhaW5lciBhbmQgd2l0aCB2aXNpYmlsaXR5OiBoaWRkZW4pXG4vLyAgICAgICAgICAgICAgKiBQbGVhc2Ugbm90ZSwgbmV3Q29udGFpbmVyIGlzIGF2YWlsYWJsZSBqdXN0IGFmdGVyIG5ld0NvbnRhaW5lckxvYWRpbmcgaXMgcmVzb2x2ZWQhXG4vLyAgICAgICAgICAgICAgKi9cbi8vXG4vLyAgICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuLy8gICAgICAgICAgICAgdmFyICRlbCA9ICQodGhpcy5uZXdDb250YWluZXIpO1xuLy9cbi8vICAgICAgICAgICAgICQodGhpcy5vbGRDb250YWluZXIpLmhpZGUoKTtcbi8vXG4vLyAgICAgICAgICAgICAkZWwuY3NzKHt2aXNpYmlsaXR5IDogJ3Zpc2libGUnLFxuLy8gICAgICAgICAgICAgICAgIG9wYWNpdHkgOiAwXG4vLyAgICAgICAgICAgICB9KTtcbi8vXG4vLyAgICAgICAgICAgICAkZWwuYW5pbWF0ZSh7IG9wYWNpdHk6IDEgfSwgNDAwLCBmdW5jdGlvbigpIHtcbi8vICAgICAgICAgICAgICAgICAvKipcbi8vICAgICAgICAgICAgICAgICAgKiBEbyBub3QgZm9yZ2V0IHRvIGNhbGwgLmRvbmUoKSBhcyBzb29uIHlvdXIgdHJhbnNpdGlvbiBpcyBmaW5pc2hlZCFcbi8vICAgICAgICAgICAgICAgICAgKiAuZG9uZSgpIHdpbGwgYXV0b21hdGljYWxseSByZW1vdmUgZnJvbSB0aGUgRE9NIHRoZSBvbGQgQ29udGFpbmVyXG4vLyAgICAgICAgICAgICAgICAgICovXG4vL1xuLy8gICAgICAgICAgICAgICAgIF90aGlzLmRvbmUoKTtcbi8vICAgICAgICAgICAgIH0pO1xuLy8gICAgICAgICB9XG4vLyAgICAgfSk7XG4vL1xuLy8gICAgIC8qKlxuLy8gICAgICAqIE5leHQgc3RlcCwgeW91IGhhdmUgdG8gdGVsbCBCYXJiYSB0byB1c2UgdGhlIG5ldyBUcmFuc2l0aW9uXG4vLyAgICAgICovXG4vL1xuLy8gICAgIEJhcmJhLlBqYXguZ2V0VHJhbnNpdGlvbiA9IGZ1bmN0aW9uKCkge1xuLy8gICAgICAgICAvKipcbi8vICAgICAgICAgICogSGVyZSB5b3UgY2FuIHVzZSB5b3VyIG93biBsb2dpYyFcbi8vICAgICAgICAgICogRm9yIGV4YW1wbGUgeW91IGNhbiB1c2UgZGlmZmVyZW50IFRyYW5zaXRpb24gYmFzZWQgb24gdGhlIGN1cnJlbnQgcGFnZSBvciBsaW5rLi4uXG4vLyAgICAgICAgICAqL1xuLy9cbi8vICAgICAgICAgcmV0dXJuIEZhZGVUcmFuc2l0aW9uO1xuLy8gICAgIH07XG4vL1xuLy8gfSk7XG4vL1xuLy9cblxuZnVuY3Rpb24gdmFsaWRFbWFpbChlbWFpbCkgeyAvLyBzZWU6XG4gICAgdmFyIHJlID0gL14oW1xcdy1dKyg/OlxcLltcXHctXSspKilAKCg/OltcXHctXStcXC4pKlxcd1tcXHctXXswLDY2fSlcXC4oW2Etel17Miw2fSg/OlxcLlthLXpdezJ9KT8pJC9pO1xuICAgIHJldHVybiByZS50ZXN0KGVtYWlsKTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVIdW1hbihob25leXBvdCkge1xuICAgIGlmIChob25leXBvdCkgeyAgLy9pZiBoaWRkZW4gZm9ybSBmaWxsZWQgdXBcbiAgICAgICAgY29uc29sZS5sb2coXCJSb2JvdCBEZXRlY3RlZCFcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiV2VsY29tZSBIdW1hbiFcIik7XG4gICAgfVxufVxuXG4vLyBnZXQgYWxsIGRhdGEgaW4gZm9ybSBhbmQgcmV0dXJuIG9iamVjdFxuZnVuY3Rpb24gZ2V0Rm9ybURhdGEoKSB7XG4gICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdmb3JtXCIpO1xuICAgIHZhciBlbGVtZW50cyA9IGZvcm0uZWxlbWVudHM7IC8vIGFsbCBmb3JtIGVsZW1lbnRzXG4gICAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKGVsZW1lbnRzKS5maWx0ZXIoZnVuY3Rpb24oaykge1xuICAgICAgICAvLyB0aGUgZmlsdGVyaW5nIGxvZ2ljIGlzIHNpbXBsZSwgb25seSBrZWVwIGZpZWxkcyB0aGF0IGFyZSBub3QgdGhlIGhvbmV5cG90XG4gICAgICAgIHJldHVybiAoZWxlbWVudHNba10ubmFtZSAhPT0gXCJob25leXBvdFwiKTtcbiAgICB9KS5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgICBpZihlbGVtZW50c1trXS5uYW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50c1trXS5uYW1lO1xuICAgICAgICAgICAgLy8gc3BlY2lhbCBjYXNlIGZvciBFZGdlJ3MgaHRtbCBjb2xsZWN0aW9uXG4gICAgICAgIH1lbHNlIGlmKGVsZW1lbnRzW2tdLmxlbmd0aCA+IDApe1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzW2tdLml0ZW0oMCkubmFtZTtcbiAgICAgICAgfVxuICAgIH0pLmZpbHRlcihmdW5jdGlvbihpdGVtLCBwb3MsIHNlbGYpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3MgJiYgaXRlbTtcbiAgICB9KTtcbiAgICB2YXIgZGF0YSA9IHt9O1xuICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGspe1xuICAgICAgICBkYXRhW2tdID0gZWxlbWVudHNba10udmFsdWU7XG4gICAgICAgIHZhciBzdHIgPSBcIlwiOyAvLyBkZWNsYXJlIGVtcHR5IHN0cmluZyBvdXRzaWRlIG9mIGxvb3AgdG8gYWxsb3dcbiAgICAgICAgICAgICAgICAgICAgICAvLyBpdCB0byBiZSBhcHBlbmRlZCB0byBmb3IgZWFjaCBpdGVtIGluIHRoZSBsb29wXG4gICAgICAgIGlmKGVsZW1lbnRzW2tdLnR5cGUgPT09IFwiY2hlY2tib3hcIil7IC8vIHNwZWNpYWwgY2FzZSBmb3IgRWRnZSdzIGh0bWwgY29sbGVjdGlvblxuICAgICAgICAgICAgc3RyID0gc3RyICsgZWxlbWVudHNba10uY2hlY2tlZCArIFwiLCBcIjsgLy8gdGFrZSB0aGUgc3RyaW5nIGFuZCBhcHBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgY3VycmVudCBjaGVja2VkIHZhbHVlIHRvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGVuZCBvZiBpdCwgYWxvbmcgd2l0aFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgY29tbWEgYW5kIGEgc3BhY2VcbiAgICAgICAgICAgIGRhdGFba10gPSBzdHIuc2xpY2UoMCwgLTIpOyAvLyByZW1vdmUgdGhlIGxhc3QgY29tbWEgYW5kIHNwYWNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZnJvbSB0aGUgIHN0cmluZyB0byBtYWtlIHRoZSBvdXRwdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV0dGllciBpbiB0aGUgc3ByZWFkc2hlZXRcbiAgICAgICAgfWVsc2UgaWYoZWxlbWVudHNba10ubGVuZ3RoKXtcbiAgICAgICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBlbGVtZW50c1trXS5sZW5ndGg7IGkrKyl7XG4gICAgICAgICAgICAgICAgaWYoZWxlbWVudHNba10uaXRlbShpKS5jaGVja2VkKXtcbiAgICAgICAgICAgICAgICAgICAgc3RyID0gc3RyICsgZWxlbWVudHNba10uaXRlbShpKS52YWx1ZSArIFwiLCBcIjsgLy8gc2FtZSBhcyBhYm92ZVxuICAgICAgICAgICAgICAgICAgICBkYXRhW2tdID0gc3RyLnNsaWNlKDAsIC0yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIGFkZCBmb3JtLXNwZWNpZmljIHZhbHVlcyBpbnRvIHRoZSBkYXRhXG4gICAgZGF0YS5mb3JtRGF0YU5hbWVPcmRlciA9IEpTT04uc3RyaW5naWZ5KGZpZWxkcyk7XG4gICAgZGF0YS5mb3JtR29vZ2xlU2hlZXROYW1lID0gZm9ybS5kYXRhc2V0LnNoZWV0IHx8IFwicmVzcG9uc2VzXCI7IC8vIGRlZmF1bHQgc2hlZXQgbmFtZVxuICAgIGRhdGEuZm9ybUdvb2dsZVNlbmRFbWFpbCA9IGZvcm0uZGF0YXNldC5lbWFpbCB8fCBcIlwiOyAvLyBubyBlbWFpbCBieSBkZWZhdWx0XG5cbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRm9ybVN1Ym1pdChldmVudCkgeyAgLy8gaGFuZGxlcyBmb3JtIHN1Ym1pdCB3aXRodG91dCBhbnkganF1ZXJ5XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsgICAgICAgICAgIC8vIHdlIGFyZSBzdWJtaXR0aW5nIHZpYSB4aHIgYmVsb3dcbiAgICB2YXIgZGF0YSA9IGdldEZvcm1EYXRhKCk7ICAgICAgICAgLy8gZ2V0IHRoZSB2YWx1ZXMgc3VibWl0dGVkIGluIHRoZSBmb3JtXG5cbiAgICAvKiBPUFRJT046IFJlbW92ZSB0aGlzIGNvbW1lbnQgdG8gZW5hYmxlIFNQQU0gcHJldmVudGlvbiwgc2VlIFJFQURNRS5tZFxuICAgICBpZiAodmFsaWRhdGVIdW1hbihkYXRhLmhvbmV5cG90KSkgeyAgLy9pZiBmb3JtIGlzIGZpbGxlZCwgZm9ybSB3aWxsIG5vdCBiZSBzdWJtaXR0ZWRcbiAgICAgcmV0dXJuIGZhbHNlO1xuICAgICB9XG4gICAgICovXG5cbiAgICBpZiggZGF0YS5lbWFpbCAmJiAhdmFsaWRFbWFpbChkYXRhLmVtYWlsKSApIHsgICAvLyBpZiBlbWFpbCBpcyBub3QgdmFsaWQgc2hvdyBlcnJvclxuICAgICAgICB2YXIgaW52YWxpZEVtYWlsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJlbWFpbC1pbnZhbGlkXCIpO1xuICAgICAgICBpZiAoaW52YWxpZEVtYWlsKSB7XG4gICAgICAgICAgICBpbnZhbGlkRW1haWwuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciB1cmwgPSBldmVudC50YXJnZXQuYWN0aW9uOyAgLy9cbiAgICAgICAgdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCk7XG4gICAgICAgIC8vIHhoci53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xuICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLCBcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc29sZS5sb2coIHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0IClcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHhoci5yZXNwb25zZVRleHQpO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZm9ybVwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IC8vIGhpZGUgZm9ybVxuICAgICAgICAgICAgdmFyIHRoYW5rWW91TWVzc2FnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGhhbmt5b3VfbWVzc2FnZVwiKTtcbiAgICAgICAgICAgIGlmICh0aGFua1lvdU1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICB0aGFua1lvdU1lc3NhZ2Uuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfTtcbiAgICAgICAgLy8gdXJsIGVuY29kZSBmb3JtIGRhdGEgZm9yIHNlbmRpbmcgYXMgcG9zdCBkYXRhXG4gICAgICAgIHZhciBlbmNvZGVkID0gT2JqZWN0LmtleXMoZGF0YSkubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoaykgKyBcIj1cIiArIGVuY29kZVVSSUNvbXBvbmVudChkYXRhW2tdKVxuICAgICAgICB9KS5qb2luKCcmJylcbiAgICAgICAgeGhyLnNlbmQoZW5jb2RlZCk7XG4gICAgfVxufVxuZnVuY3Rpb24gbG9hZGVkKCkge1xuICAgIGNvbnNvbGUubG9nKFwiQ29udGFjdCBmb3JtIHN1Ym1pc3Npb24gaGFuZGxlciBsb2FkZWQgc3VjY2Vzc2Z1bGx5LlwiKTtcbiAgICAvLyBiaW5kIHRvIHRoZSBzdWJtaXQgZXZlbnQgb2Ygb3VyIGZvcm1cbiAgICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZ2Zvcm1cIik7XG4gICAgZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIGhhbmRsZUZvcm1TdWJtaXQsIGZhbHNlKTtcbn07XG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLCBsb2FkZWQsIGZhbHNlKTtcblxuaWYgKHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluZGV4T2YoXCJpbmRleFwiKSA+IC0xKSB7XG4gICAgLy8gZ2V0IGFsbCBkYXRhIGluIGZvcm0gYW5kIHJldHVybiBvYmplY3RcbiAgICBmdW5jdGlvbiBnZXRGb3JtRGF0YTIoKSB7XG4gICAgICAgIHZhciBmb3JtID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJnZm9ybTJcIik7XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGZvcm0uZWxlbWVudHM7IC8vIGFsbCBmb3JtIGVsZW1lbnRzXG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhlbGVtZW50cykubWFwKGZ1bmN0aW9uKGspIHtcbiAgICAgICAgICAgIGlmKGVsZW1lbnRzW2tdLm5hbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGVtZW50c1trXS5uYW1lO1xuICAgICAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgRWRnZSdzIGh0bWwgY29sbGVjdGlvblxuICAgICAgICAgICAgfWVsc2UgaWYoZWxlbWVudHNba10ubGVuZ3RoID4gMCl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnRzW2tdLml0ZW0oMCkubmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkuZmlsdGVyKGZ1bmN0aW9uKGl0ZW0sIHBvcywgc2VsZikge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuaW5kZXhPZihpdGVtKSA9PSBwb3MgJiYgaXRlbTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYXRhID0ge307XG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGspe1xuICAgICAgICAgICAgZGF0YVtrXSA9IGVsZW1lbnRzW2tdLnZhbHVlO1xuICAgICAgICAgICAgdmFyIHN0ciA9IFwiXCI7IC8vIGRlY2xhcmUgZW1wdHkgc3RyaW5nIG91dHNpZGUgb2YgbG9vcCB0byBhbGxvd1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaXQgdG8gYmUgYXBwZW5kZWQgdG8gZm9yIGVhY2ggaXRlbSBpbiB0aGUgbG9vcFxuICAgICAgICAgICAgaWYoZWxlbWVudHNba10udHlwZSA9PT0gXCJjaGVja2JveFwiKXsgLy8gc3BlY2lhbCBjYXNlIGZvciBFZGdlJ3MgaHRtbCBjb2xsZWN0aW9uXG4gICAgICAgICAgICAgICAgc3RyID0gc3RyICsgZWxlbWVudHNba10uY2hlY2tlZCArIFwiLCBcIjsgLy8gdGFrZSB0aGUgc3RyaW5nIGFuZCBhcHBlbmRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGN1cnJlbnQgY2hlY2tlZCB2YWx1ZSB0b1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZW5kIG9mIGl0LCBhbG9uZyB3aXRoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgY29tbWEgYW5kIGEgc3BhY2VcbiAgICAgICAgICAgICAgICBkYXRhW2tdID0gc3RyLnNsaWNlKDAsIC0yKTsgLy8gcmVtb3ZlIHRoZSBsYXN0IGNvbW1hIGFuZCBzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmcm9tIHRoZSAgc3RyaW5nIHRvIG1ha2UgdGhlIG91dHB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBwcmV0dGllciBpbiB0aGUgc3ByZWFkc2hlZXRcbiAgICAgICAgICAgIH1lbHNlIGlmKGVsZW1lbnRzW2tdLmxlbmd0aCl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzW2tdLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICAgICAgaWYoZWxlbWVudHNba10uaXRlbShpKS5jaGVja2VkKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0ciA9IHN0ciArIGVsZW1lbnRzW2tdLml0ZW0oaSkudmFsdWUgKyBcIiwgXCI7IC8vIHNhbWUgYXMgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFba10gPSBzdHIuc2xpY2UoMCwgLTIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBhZGQgZm9ybS1zcGVjaWZpYyB2YWx1ZXMgaW50byB0aGUgZGF0YVxuICAgICAgICBkYXRhLmZvcm1EYXRhTmFtZU9yZGVyID0gSlNPTi5zdHJpbmdpZnkoZmllbGRzKTtcbiAgICAgICAgZGF0YS5mb3JtR29vZ2xlU2hlZXROYW1lID0gZm9ybS5kYXRhc2V0LnNoZWV0IHx8IFwicmVzcG9uc2VzXCI7IC8vIGRlZmF1bHQgc2hlZXQgbmFtZVxuICAgICAgICBkYXRhLmZvcm1Hb29nbGVTZW5kRW1haWwgPSBmb3JtLmRhdGFzZXQuZW1haWwgfHwgXCJcIjsgLy8gbm8gZW1haWwgYnkgZGVmYXVsdFxuXG4gICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoYW5kbGVGb3JtU3VibWl0MihldmVudCkgeyAgLy8gaGFuZGxlcyBmb3JtIHN1Ym1pdCB3aXRodG91dCBhbnkganF1ZXJ5XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7ICAgICAgICAgICAvLyB3ZSBhcmUgc3VibWl0dGluZyB2aWEgeGhyIGJlbG93XG4gICAgICAgIHZhciBkYXRhID0gZ2V0Rm9ybURhdGEyKCk7ICAgICAgICAgLy8gZ2V0IHRoZSB2YWx1ZXMgc3VibWl0dGVkIGluIHRoZSBmb3JtXG5cbiAgICAgICAgLyogT1BUSU9OOiBSZW1vdmUgdGhpcyBjb21tZW50IHRvIGVuYWJsZSBTUEFNIHByZXZlbnRpb24sIHNlZSBSRUFETUUubWRcbiAgICAgICAgaWYgKHZhbGlkYXRlSHVtYW4oZGF0YS5ob25leXBvdCkpIHsgIC8vaWYgZm9ybSBpcyBmaWxsZWQsIGZvcm0gd2lsbCBub3QgYmUgc3VibWl0dGVkXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICAqL1xuXG4gICAgICAgIGlmKCAhdmFsaWRFbWFpbChkYXRhLmVtYWlsKSApIHsgICAvLyBpZiBlbWFpbCBpcyBub3QgdmFsaWQgc2hvdyBlcnJvclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VtYWlsLWludmFsaWQyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgdXJsID0gZXZlbnQudGFyZ2V0LmFjdGlvbjsgIC8vXG4gICAgICAgICAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgICAgICB4aHIub3BlbignUE9TVCcsIHVybCk7XG4gICAgICAgICAgICAvLyB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkJyk7XG4gICAgICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coIHhoci5zdGF0dXMsIHhoci5zdGF0dXNUZXh0IClcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2Zvcm0yJykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsgLy8gaGlkZSBmb3JtXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RoYW5reW91X21lc3NhZ2UyJykuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIHVybCBlbmNvZGUgZm9ybSBkYXRhIGZvciBzZW5kaW5nIGFzIHBvc3QgZGF0YVxuICAgICAgICAgICAgdmFyIGVuY29kZWQgPSBPYmplY3Qua2V5cyhkYXRhKS5tYXAoZnVuY3Rpb24oaykge1xuICAgICAgICAgICAgICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoaykgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtrXSlcbiAgICAgICAgICAgIH0pLmpvaW4oJyYnKVxuICAgICAgICAgICAgeGhyLnNlbmQoZW5jb2RlZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbG9hZGVkMigpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2NvbnRhY3QgZm9ybSBzdWJtaXNzaW9uIGhhbmRsZXIgbG9hZGVkIHN1Y2Nlc3NmdWxseScpO1xuICAgICAgICAvLyBiaW5kIHRvIHRoZSBzdWJtaXQgZXZlbnQgb2Ygb3VyIGZvcm1cbiAgICAgICAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ2Zvcm0yJyk7XG4gICAgICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBoYW5kbGVGb3JtU3VibWl0MiwgZmFsc2UpO1xuICAgIH07XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGxvYWRlZDIsIGZhbHNlKTtcbn07Il19"}